!function(){function N(e,t,n,o,r,a){return{tag:e,key:t,attrs:n,children:o,text:r,dom:a,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function p(e){for(var t in e)if(w.call(e,t))return!1;return!0}function e(e){var t,n,o,r=arguments[1],a=2;if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");if("string"==typeof e&&!(t=m[e])){for(var i="div",l=[],s={};t=f.exec(e);){var u=t[1],c=t[2];""===u&&""!==c?i=c:"#"===u?s.id=c:"."===u?l.push(c):"["===t[3][0]&&((u=t[6])&&(u=u.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?l.push(u):s[t[4]]=""===u?u:u||!0)}0<l.length&&(s.className=l.join(" ")),t=m[e]={tag:i,attrs:s}}if(null==r?r={}:"object"==typeof r&&null==r.tag&&!Array.isArray(r)||(r={},a=1),arguments.length===a+1)i=arguments[a],Array.isArray(i)||(i=[i]);else for(i=[];a<arguments.length;)i.push(arguments[a++]);if(a=N.normalizeChildren(i),"string"!=typeof e)return N(e,r.key,r,a);if(i=!1,l=r.className||r.class,!p(t.attrs)&&!p(r)){for(var d in s={},r)w.call(r,d)&&(s[d]=r[d]);r=s}for(d in t.attrs)w.call(t.attrs,d)&&(r[d]=t.attrs[d]);for(d in void 0!==l&&(void 0!==r.class&&(r.class=void 0,r.className=l),null!=t.attrs.className&&(r.className=t.attrs.className+" "+l)),r)if(w.call(r,d)&&"key"!==d){i=!0;break}return Array.isArray(a)&&1===a.length&&null!=a[0]&&"#"===a[0].tag?o=a[0].children:n=a,N(t.tag,r.key,i?r:void 0,n,o)}N.normalize=function(e){return Array.isArray(e)?N("[",void 0,void 0,N.normalizeChildren(e),void 0,void 0):null!=e&&"object"!=typeof e?N("#",void 0,void 0,!1===e?"":e,void 0,void 0):e},N.normalizeChildren=function(e){for(var t=0;t<e.length;t++)e[t]=N.normalize(e[t]);return e};var f=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,m={},w={}.hasOwnProperty;e.trust=function(e){return null==e&&(e=""),N("<",void 0,void 0,e,void 0,void 0)},e.fragment=function(e,t){return N("[",e.key,e,N.normalizeChildren(t),void 0,void 0)};var h=function(e){function t(o,r){return function t(n){var e;try{if(!r||null==n||"object"!=typeof n&&"function"!=typeof n||"function"!=typeof(e=n.then))d(function(){r||0!==o.length||console.error("Possible unhandled promise rejection:",n);for(var e=0;e<o.length;e++)o[e](n);l.length=0,s.length=0,c.state=r,c.retry=function(){t(n)}});else{if(n===i)throw new TypeError("Promise can't be resolved w/ itself");a(e.bind(n))}}catch(e){u(e)}}}function a(e){function t(t){return function(e){0<n++||t(e)}}var n=0,o=t(u);try{e(t(r),o)}catch(e){o(e)}}if(!(this instanceof h))throw Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var i=this,l=[],s=[],r=t(l,!0),u=t(s,!1),c=i._instance={resolvers:l,rejectors:s},d="function"==typeof setImmediate?setImmediate:setTimeout;a(e)};h.prototype.then=function(e,t){function n(t,e,n,o){e.push(function(e){if("function"!=typeof t)n(e);else try{r(t(e))}catch(e){a&&a(e)}}),"function"==typeof i.retry&&o===i.state&&i.retry()}var r,a,i=this._instance,o=new h(function(e,t){r=e,a=t});return n(e,i.resolvers,r,!0),n(t,i.rejectors,a,!1),o},h.prototype.catch=function(e){return this.then(null,e)},h.resolve=function(t){return t instanceof h?t:new h(function(e){e(t)})},h.reject=function(n){return new h(function(e,t){t(n)})},h.all=function(l){return new h(function(n,o){var r=l.length,a=0,i=[];if(0===l.length)n([]);else for(var e=0;e<l.length;e++)!function(t){function e(e){a++,i[t]=e,a===r&&n(i)}null==l[t]||"object"!=typeof l[t]&&"function"!=typeof l[t]||"function"!=typeof l[t].then?e(l[t]):l[t].then(e,o)}(e)})},h.race=function(o){return new h(function(e,t){for(var n=0;n<o.length;n++)o[n].then(e,t)})},"undefined"!=typeof window?(void 0===window.Promise&&(window.Promise=h),h=window.Promise):"undefined"!=typeof global&&(void 0===global.Promise&&(global.Promise=h),h=global.Promise);function i(e){function o(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)o(e+"["+n+"]",t[n]);else if("[object Object]"===Object.prototype.toString.call(t))for(n in t)o(e+"["+n+"]",t[n]);else r.push(encodeURIComponent(e)+(null!=t&&""!==t?"="+encodeURIComponent(t):""))}if("[object Object]"!==Object.prototype.toString.call(e))return"";var t,r=[];for(t in e)o(t,e[t]);return r.join("&")}function r(e){function y(e,t,n,o,r,a,i){for(;n<o;n++){var l=t[n];null!=l&&z(e,l,r,i,a)}}function z(e,t,n,o,r){var a=t.tag;if("string"!=typeof a)return f(t,n),t=null!=t.instance?(n=z(e,t.instance,n,o,r),t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0,j(e,n,r),n):(t.domSize=0,c);switch(t.state={},null!=t.attrs&&C(t.attrs,t,n),a){case"#":return t.dom=u.createTextNode(t.children),j(e,t.dom,r),t.dom;case"<":return p(e,t,r);case"[":var i=u.createDocumentFragment();return null!=t.children&&y(i,a=t.children,0,a.length,n,null,o),t.dom=i.firstChild,t.domSize=i.childNodes.length,j(e,i,r),i;default:var l=t.tag,s=(a=t.attrs)&&a.is;if(l=(o=t.attrs&&t.attrs.xmlns||T[t.tag]||o)?s?u.createElementNS(o,l,{is:s}):u.createElementNS(o,l):s?u.createElement(l,{is:s}):u.createElement(l),t.dom=l,null!=a)for(i in s=o,a)v(t,i,null,a[i],s);return j(e,l,r),null!=t.attrs&&null!=t.attrs.contenteditable?w(t):(null!=t.text&&(""!==t.text?l.textContent=t.text:t.children=[N("#",void 0,void 0,t.text,void 0,void 0)]),null!=t.children&&(y(l,e=t.children,0,e.length,n,null,o),e=t.attrs,"select"===t.tag&&null!=e&&("value"in e&&v(t,"value",null,e.value,void 0),"selectedIndex"in e&&v(t,"selectedIndex",null,e.selectedIndex,void 0)))),l}}function p(e,t,n){var o,r={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(t.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div";for((r=u.createElement(r)).innerHTML=t.children,t.dom=r.firstChild,t.domSize=r.childNodes.length,t=u.createDocumentFragment();o=r.firstChild;)t.appendChild(o);return j(e,t,n),t}function f(e,t){if("function"==typeof e.tag.view){e.state=Object.create(e.tag);var n=e.state.view;if(null!=n.$$reentrantLock$$)return c;n.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(n=e.tag).$$reentrantLock$$)return c;n.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(e._state=e.state,null!=e.attrs&&C(e.attrs,e,t),C(e._state,e,t),e.instance=N.normalize(e._state.view.call(e.state,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function m(e,t,n,o,r,a,i){if(t!==n&&(null!=t||null!=n))if(null==t)y(e,n,0,n.length,r,a,i);else if(null==n)S(t,0,t.length,n);else{if(t.length===n.length){for(var l=!1,s=0;s<n.length;s++)if(null!=n[s]&&null!=t[s]){l=null==n[s].key&&null==t[s].key;break}if(l){for(s=0;s<t.length;s++)t[s]!==n[s]&&(null==t[s]&&null!=n[s]?z(e,n[s],r,i,b(t,s+1,a)):null==n[s]?S(t,s,s+1,n):k(e,t[s],n[s],r,b(t,s+1,a),o,i));return}}if(o||(o=null!=t.pool&&Math.abs(t.pool.length-n.length)<=Math.abs(t.length-n.length)&&(o=n[0]&&n[0].children&&n[0].children.length||0,Math.abs((t.pool[0]&&t.pool[0].children&&t.pool[0].children.length||0)-o)<=Math.abs((t[0]&&t[0].children&&t[0].children.length||0)-o))),o){var u=t.pool;t=t.concat(t.pool)}s=l=0;for(var c,d=t.length-1,p=n.length-1;l<=d&&s<=p;){var f=t[l],m=n[s];if(f!==m||o)if(null==f)l++;else if(null==m)s++;else if(f.key===m.key){var w=null!=u&&l>=t.length-u.length||null==u&&o;s++,k(e,f,m,r,b(t,++l,a),w,i),o&&f.tag===m.tag&&j(e,g(f),a)}else if((f=t[d])!==m||o)if(null==f)d--;else if(null==m)s++;else{if(f.key!==m.key)break;w=null!=u&&d>=t.length-u.length||null==u&&o,k(e,f,m,r,b(t,d+1,a),w,i),(o||s<p)&&j(e,g(f),b(t,l,a)),d--,s++}else d--,s++;else l++,s++}for(;l<=d&&s<=p;){if((f=t[d])!==(m=n[p])||o)if(null==f)d--;else{if(null!=m)if(f.key===m.key)w=null!=u&&d>=t.length-u.length||null==u&&o,k(e,f,m,r,b(t,d+1,a),w,i),o&&f.tag===m.tag&&j(e,g(f),a),null!=f.dom&&(a=f.dom),d--;else{if(!c){var h;for(c=t,f=d,w={},h=0;h<f;h++){var v=c[h];null!=v&&(null!=(v=v.key)&&(w[v]=h))}c=w}null!=m&&(null!=(f=c[m.key])?(k(e,w=t[f],m,r,b(t,d+1,a),o,i),j(e,g(w),a),t[f].skip=!0,null!=w.dom&&(a=w.dom)):a=z(e,m,r,i,a))}p--}else d--,p--;if(p<s)break}y(e,n,s,p+1,r,a,i),S(t,l,d+1,n)}}function k(e,t,n,o,r,a,i){var l=t.tag;if(l===n.tag){var s,u,c;if(n.state=t.state,n._state=t._state,n.events=t.events,s=!a)null!=n.attrs&&"function"==typeof n.attrs.onbeforeupdate&&(u=n.attrs.onbeforeupdate.call(n.state,n,t)),"string"!=typeof n.tag&&"function"==typeof n._state.onbeforeupdate&&(c=n._state.onbeforeupdate.call(n.state,n,t)),s=!(void 0===u&&void 0===c||u||c)&&(n.dom=t.dom,n.domSize=t.domSize,n.instance=t.instance,!0);if(!s)if("string"==typeof l)switch(null!=n.attrs&&(a?(n.state={},C(n.attrs,n,o)):R(n.attrs,n,o)),l){case"#":t.children.toString()!==n.children.toString()&&(t.dom.nodeValue=n.children),n.dom=t.dom;break;case"<":t.children!==n.children?(g(t),p(e,n,r)):(n.dom=t.dom,n.domSize=t.domSize);break;case"[":if(m(e,t.children,n.children,a,o,r,i),t=0,o=n.children,(n.dom=null)!=o){for(a=0;a<o.length;a++){var d=o[a];null!=d&&null!=d.dom&&(null==n.dom&&(n.dom=d.dom),t+=d.domSize||1)}1!==t&&(n.domSize=t)}break;default:if(e=n.dom=t.dom,i=n.attrs&&n.attrs.xmlns||T[n.tag]||i,"textarea"===n.tag&&(null==n.attrs&&(n.attrs={}),null!=n.text&&(n.attrs.value=n.text,n.text=void 0)),r=t.attrs,s=i,null!=(l=n.attrs))for(d in l)v(n,d,r&&r[d],l[d],s);if(null!=r)for(d in r)null!=l&&d in l||("className"===d&&(d="class"),"o"!==d[0]||"n"!==d[1]||x(d)?"key"!==d&&n.dom.removeAttribute(d):P(n,d,void 0));null!=n.attrs&&null!=n.attrs.contenteditable?w(n):null!=t.text&&null!=n.text&&""!==n.text?t.text.toString()!==n.text.toString()&&(t.dom.firstChild.nodeValue=n.text):(null!=t.text&&(t.children=[N("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=n.text&&(n.children=[N("#",void 0,void 0,n.text,void 0,void 0)]),m(e,t.children,n.children,a,o,null,i))}else{if(a)f(n,o);else{if(n.instance=N.normalize(n._state.view.call(n.state,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");null!=n.attrs&&R(n.attrs,n,o),R(n._state,n,o)}null!=n.instance?(null==t.instance?z(e,n.instance,o,i,r):k(e,t.instance,n.instance,o,r,a,i),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=t.instance?(h(t.instance,null),n.dom=void 0,n.domSize=0):(n.dom=t.dom,n.domSize=t.domSize)}}else h(t,null),z(e,n,o,i,r)}function g(e){var t=e.domSize;if(null==t&&null!=e.dom)return e.dom;var n=u.createDocumentFragment();if(0<t){for(e=e.dom;--t;)n.appendChild(e.nextSibling);n.insertBefore(e,n.firstChild)}return n}function b(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function j(e,t,n){n&&n.parentNode?e.insertBefore(t,n):e.appendChild(t)}function w(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag)t=t[0].children,e.dom.innerHTML!==t&&(e.dom.innerHTML=t);else if(null!=e.text||null!=t&&0!==t.length)throw Error("Child node of a contenteditable must be trusted")}function S(e,t,n,o){for(;t<n;t++){var r=e[t];null!=r&&(r.skip?r.skip=!1:h(r,o))}}function h(r,a){function e(){if(++l===i&&(function e(t){t.attrs&&"function"==typeof t.attrs.onremove&&t.attrs.onremove.call(t.state,t);if("string"!=typeof t.tag)"function"==typeof t._state.onremove&&t._state.onremove.call(t.state,t),null!=t.instance&&e(t.instance);else if(t=t.children,Array.isArray(t))for(var n=0;n<t.length;n++){var o=t[n];null!=o&&e(o)}}(r),r.dom)){var e=r.domSize||1;if(1<e)for(var t=r.dom;--e;){var n=t.nextSibling,o=n.parentNode;null!=o&&o.removeChild(n)}null!=(t=(e=r.dom).parentNode)&&t.removeChild(e),(e=null!=a&&null==r.domSize)&&(e=!(null!=(e=r.attrs)&&(e.oncreate||e.onupdate||e.onbeforeremove||e.onremove))),e&&"string"==typeof r.tag&&(a.pool?a.pool.push(r):a.pool=[r])}}var i=1,l=0;if(r.attrs&&"function"==typeof r.attrs.onbeforeremove){var t=r.attrs.onbeforeremove.call(r.state,r);null!=t&&"function"==typeof t.then&&(i++,t.then(e,e))}"string"==typeof r.tag||"function"!=typeof r._state.onbeforeremove||null!=(t=r._state.onbeforeremove.call(r.state,r))&&"function"==typeof t.then&&(i++,t.then(e,e)),e()}function v(e,t,n,o,r){var a=e.dom;if("key"!==t&&"is"!==t&&(n!==o||"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===u.activeElement||"object"==typeof o)&&void 0!==o&&!x(t)){var i=t.indexOf(":");if(-1<i&&"xlink"===t.substr(0,i))a.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(i+1),o);else if("o"===t[0]&&"n"===t[1]&&"function"==typeof o)P(e,t,o);else if("style"===t)if((e=n)===o&&(a.style.cssText="",e=null),null==o)a.style.cssText="";else if("string"==typeof o)a.style.cssText=o;else{for(var l in"string"==typeof e&&(a.style.cssText=""),o)a.style[l]=o[l];if(null!=e&&"string"!=typeof e)for(l in e)l in o||(a.style[l]="")}else if(t in a&&"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t&&void 0===r&&!(e.attrs.is||-1<e.tag.indexOf("-"))){if("value"===t){if(l=""+o,("input"===e.tag||"textarea"===e.tag)&&e.dom.value===l&&e.dom===u.activeElement)return;if("select"===e.tag)if(null===o){if(-1===e.dom.selectedIndex&&e.dom===u.activeElement)return}else if(null!==n&&e.dom.value===l&&e.dom===u.activeElement)return;if("option"===e.tag&&null!=n&&e.dom.value===l)return}"input"===e.tag&&"type"===t?a.setAttribute(t,o):a[t]=o}else"boolean"==typeof o?o?a.setAttribute(t,""):a.removeAttribute(t):a.setAttribute("className"===t?"class":t,o)}}function x(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function P(e,t,n){var o=e.dom,r="function"!=typeof i?n:function(e){var t=n.call(o,e);return i.call(o,e),t};if(t in o)o[t]="function"==typeof n?r:null;else{var a=t.slice(2);void 0===e.events&&(e.events={}),e.events[t]!==r&&(null!=e.events[t]&&o.removeEventListener(a,e.events[t],!1),"function"==typeof n&&(e.events[t]=r,o.addEventListener(a,e.events[t],!1)))}}function C(e,t,n){"function"==typeof e.oninit&&e.oninit.call(t.state,t),"function"==typeof e.oncreate&&n.push(e.oncreate.bind(t.state,t))}function R(e,t,n){"function"==typeof e.onupdate&&n.push(e.onupdate.bind(t.state,t))}var i,u=e.document,c=u.createDocumentFragment(),T={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};return{render:function(e,t){if(!e)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=[],o=u.activeElement,r=e.namespaceURI;for(null==e.vnodes&&(e.textContent=""),Array.isArray(t)||(t=[t]),m(e,e.vnodes,N.normalizeChildren(t),!1,n,null,"http://www.w3.org/1999/xhtml"===r?void 0:r),e.vnodes=t,null!=o&&u.activeElement!==o&&o.focus(),o=0;o<n.length;o++)n[o]()},setEventCallback:function(e){return i=e}}}var s,o,t,a,n,u=/^file:\/\//i,l=(s=window,o=h,a=0,{request:function(l,e){var t=d();l=v(l,e);var n=new o(function(o,r){null==l.method&&(l.method="GET"),l.method=l.method.toUpperCase();var e="GET"!==l.method&&"TRACE"!==l.method&&("boolean"!=typeof l.useBody||l.useBody);"function"!=typeof l.serialize&&(l.serialize="undefined"!=typeof FormData&&l.data instanceof FormData?function(e){return e}:JSON.stringify),"function"!=typeof l.deserialize&&(l.deserialize=k),"function"!=typeof l.extract&&(l.extract=g),l.url=y(l.url,l.data),e?l.data=l.serialize(l.data):l.url=z(l.url,l.data);var a=new s.XMLHttpRequest,i=!1,t=a.abort;for(var n in a.abort=function(){i=!0,t.call(a)},a.open(l.method,l.url,"boolean"!=typeof l.async||l.async,"string"==typeof l.user?l.user:void 0,"string"==typeof l.password?l.password:void 0),l.serialize!==JSON.stringify||!e||l.headers&&l.headers.hasOwnProperty("Content-Type")||a.setRequestHeader("Content-Type","application/json; charset=utf-8"),l.deserialize!==k||l.headers&&l.headers.hasOwnProperty("Accept")||a.setRequestHeader("Accept","application/json, text/*"),l.withCredentials&&(a.withCredentials=l.withCredentials),l.headers)!{}.hasOwnProperty.call(l.headers,n)||a.setRequestHeader(n,l.headers[n]);"function"==typeof l.config&&(a=l.config(a,l)||a),a.onreadystatechange=function(){if(!i&&4===a.readyState)try{var e=l.extract!==g?l.extract(a,l):l.deserialize(l.extract(a,l));if(200<=a.status&&a.status<300||304===a.status||u.test(l.url))o(b(l.type,e));else{var t,n=Error(a.responseText);for(t in e)n[t]=e[t];r(n)}}catch(e){r(e)}},e&&null!=l.data?a.send(l.data):a.send()});return!0===l.background?n:t(n)},jsonp:function(r,e){var t=d();r=v(r,e);var n=new o(function(t,e){var n=r.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+a++,o=s.document.createElement("script");s[n]=function(e){o.parentNode.removeChild(o),t(b(r.type,e)),delete s[n]},o.onerror=function(){o.parentNode.removeChild(o),e(Error("JSONP request failed")),delete s[n]},null==r.data&&(r.data={}),r.url=y(r.url,r.data),r.data[r.callbackKey||"callback"]=n,o.src=z(r.url,r.data),s.document.documentElement.appendChild(o)});return!0===r.background?n:t(n)},setCompletionCallback:function(e){t=e}}),c=function(e){function n(e){-1<(e=o.indexOf(e))&&o.splice(e,2)}function t(){for(var e=1;e<o.length;e+=2)o[e]()}(e=r(e)).setEventCallback(function(e){!1===e.redraw?e.redraw=void 0:t()});var o=[];return{subscribe:function(e,t){n(e),o.push(e,function(t){var n=0,o=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var e=Date.now();0===n||16<=e-n?(n=e,t()):null===o&&(o=r(function(){o=null,t(),n=Date.now()},16-(e-n)))}}(t))},unsubscribe:n,redraw:t,render:e.render}}(window);function d(){function r(){0==--a&&"function"==typeof t&&t()}var a=0;return function t(n){var o=n.then;return n.then=function(){a++;var e=o.apply(n,arguments);return e.then(r,function(e){if(r(),0===a)throw e}),t(e)},n}}function v(e,t){if("string"==typeof e){var n=e;null==(e=t||{}).url&&(e.url=n)}return e}function y(e,t){if(null==t)return e;for(var n=e.match(/:[^\/]+/gi)||[],o=0;o<n.length;o++){var r=n[o].slice(1);null!=t[r]&&(e=e.replace(n[o],t[r]))}return e}function z(e,t){var n=i(t);if(""!==n){var o=e.indexOf("?")<0?"?":"&";e+=o+n}return e}function k(t){try{return""!==t?JSON.parse(t):null}catch(e){throw Error(t)}}function g(e){return e.responseText}function b(e,t){if("function"==typeof e){if(!Array.isArray(t))return new e(t);for(var n=0;n<t.length;n++)t[n]=new e(t[n])}return t}l.setCompletionCallback(c.redraw),e.mount=(n=c,function(e,t){if(null===t)n.render(e,[]),n.unsubscribe(e);else{if(null==t.view&&"function"!=typeof t)throw Error("m.mount(element, component) expects a component, not a vnode");n.subscribe(e,function(){n.render(e,N(t))}),n.redraw()}});function j(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1)),e=e.split("&");for(var t={},n={},o=0;o<e.length;o++){var r=e[o].split("="),a=decodeURIComponent(r[0]);"true"===(r=2===r.length?decodeURIComponent(r[1]):"")?r=!0:"false"===r&&(r=!1);var i=a.split(/\]\[?|\[/),l=t;-1<a.indexOf("[")&&i.pop();for(var s=0;s<i.length;s++){a=i[s];var u=i[s+1];u=""==u||!isNaN(parseInt(u,10));var c=s===i.length-1;""===a&&(null==n[a=i.slice(0,s).join()]&&(n[a]=0),a=n[a]++),null==l[a]&&(l[a]=c?r:u?[]:{}),l=l[a]}}return t}var S,x,P,C,R,T,E,A,I=h;function O(e,t,n){if(null==e)throw Error("Ensure the DOM element that was passed to `m.route` is not undefined");function a(){null!=P&&x.render(e,P(N(C,R.key,R)))}function i(e){if(e===t)throw Error("Could not resolve default route "+t);A.setPath(t,null,{replace:!0})}A.defineRoutes(n,function(t,n,o){var r=E=function(e,t){r===E&&(C=null==t||"function"!=typeof t.view&&"function"!=typeof t?"div":t,R=n,T=o,E=null,P=(e.render||function(e){return e}).bind(e),a())};t.view||"function"==typeof t?r({},t):t.onmatch?I.resolve(t.onmatch(n,o)).then(function(e){r(t,e)},i):r(t,"div")},i),x.subscribe(e,a)}e.route=(S=window,x=c,A=function(u){function e(e){var t=u.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===e&&"/"!==t[0]&&(t="/"+t),t}function c(e,t,n){var o=e.indexOf("?"),r=e.indexOf("#"),a=-1<o?o:-1<r?r:e.length;if(-1<o)for(var i in o=j(e.slice(o+1,-1<r?r:e.length)))t[i]=o[i];if(-1<r)for(i in t=j(e.slice(r+1)))n[i]=t[i];return e.slice(0,a)}var t,d="function"==typeof u.history.pushState,n="function"==typeof setImmediate?setImmediate:setTimeout,p={prefix:"#!",getPath:function(){switch(p.prefix.charAt(0)){case"#":return e("hash").slice(p.prefix.length);case"?":return e("search").slice(p.prefix.length)+e("hash");default:return e("pathname").slice(p.prefix.length)+e("search")+e("hash")}},setPath:function(e,n,t){var o={},r={};if(e=c(e,o,r),null!=n){for(var a in n)o[a]=n[a];e=e.replace(/:([^\/]+)/g,function(e,t){return delete o[t],n[t]})}(a=i(o))&&(e+="?"+a),(r=i(r))&&(e+="#"+r),d?(r=t?t.state:null,a=t?t.title:null,u.onpopstate(),t&&t.replace?u.history.replaceState(r,a,p.prefix+e):u.history.pushState(r,a,p.prefix+e)):u.location.href=p.prefix+e},defineRoutes:function(i,l,s){function e(){var o=p.getPath(),r={},e=c(o,r,r),t=u.history.state;if(null!=t)for(var n in t)r[n]=t[n];for(var a in i)if((t=new RegExp("^"+a.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$")).test(e))return void e.replace(t,function(){for(var e=a.match(/:[^\/]+/g)||[],t=[].slice.call(arguments,1,-2),n=0;n<e.length;n++)r[e[n].replace(/:|\./g,"")]=decodeURIComponent(t[n]);l(i[a],r,o,a)});s(o,r)}d?u.onpopstate=function(e){return function(){null==t&&(t=n(function(){t=null,e()}))}}(e):"#"===p.prefix.charAt(0)&&(u.onhashchange=e),e()}};return p}(S),O.set=function(e,t,n){null!=E&&((n=n||{}).replace=!0),E=null,A.setPath(e,t,n)},O.get=function(){return T},O.prefix=function(e){A.prefix=e},O.link=function(e){e.dom.setAttribute("href",A.prefix+e.attrs.href),e.dom.onclick=function(e){e.ctrlKey||e.metaKey||e.shiftKey||2===e.which||(e.preventDefault(),e.redraw=!1,0===(e=this.getAttribute("href")).indexOf(A.prefix)&&(e=e.slice(A.prefix.length)),O.set(e,void 0,void 0))}},O.param=function(e){return void 0!==R&&void 0!==e?R[e]:R},O),e.withAttr=function(t,n,o){return function(e){n.call(o||this,t in e.currentTarget?e.currentTarget[t]:e.currentTarget.getAttribute(t))}};var M=r(window);e.render=M.render,e.redraw=c.redraw,e.request=l.request,e.jsonp=l.jsonp,e.parseQueryString=j,e.buildQueryString=i,e.version="1.1.6",e.vnode=N,"undefined"!=typeof module?module.exports=e:window.m=e}();for(var STRIPS=[{t:"Polska wschodzącą potęgą",u:"https://wiadomosci.tvp.pl/35613944/polska-wschodzaca-potega"},{t:"Kolejki do lekarzy stają się przeszłością",u:"https://wiadomosci.tvp.pl/36695920/kolejki-do-lekarzy-staja-sie-przeszloscia"},{t:"Ukrócenie złodziejstwa zawstydziło liberałów",u:"https://www.tvp.info/36677060/ukrocenie-zlodziejstwa-zawstydzilo-liberalow"},{t:'Gazeta Wyborcza oczernia "Ojca Mateusza"',u:"https://www.tvp.info/35734235/gazeta-wyborcza-oczernia-ojca-mateusza"},{t:"25 prawników jedzie jutro do Brukseli z donosem na Polskę",u:"https://www.wykop.pl/wpis/30839359/czy-prawaki-i-pis-nie-moga-bez-klamstwa-nie-zebym-/"},{t:"Delfin Platformy budzi kontrowersje",u:"https://www.tvp.info/36188704/delfin-platformy-budzi-kontrowersje"},{t:"Morawiecki: Tworzymy państwo opiekuńcze",u:"https://www.tvp.info/35717239/morawiecki-tworzymy-panstwo-opiekuncze"},{t:"Europosłowie PO przeciwko Polsce",u:"https://www.tvp.info/36238636/europoslowie-po-przeciwko-polsce"},{t:"Jarosław Kaczyński obniża pensje politykom",u:"https://www.tvp.info/36681633/rzucili-w-jaroslawa-swinia-pod-nazwa-nagrody-a-on-te-swinie-im-odrzucil"},{t:"Rosną mury tanich mieszkań",u:"https://wiadomosci.tvp.pl/36656225/rosna-mury-tanich-mieszkan"},{t:"Specjalny płot zatrzyma groźną chorobę",u:"https://www.tvp.info/36281095/specjalny-plot-zatrzyma-grozna-chorobe"},{t:'"Wiadomości" daleko przed konkurencją',u:"https://vod.tvp.pl/video/wiadomosci,przyjazn-polskowegierska,36386796"},{t:"Totalna klęska totalnej opozycji",u:"https://www.tvp.info/29845064/totalna-kleska-totalnej-opozycji"},{t:"Rząd oddał Polakom to, co zabrała Platforma",u:"https://www.tvp.info/34227348/rzad-oddal-polakom-to-co-zabrala-platforma"},{t:"Rząd spełnił już prawie wszystkie obietnice",u:"https://wiadomosci.tvp.pl/35115292/rzad-spelnil-juz-prawie-wszystkie-obietnice"},{t:"Zagrożona demokracja w Niemczech",u:"https://www.tvp.info/33749385/zagrozona-demokracja-w-niemczech"},{t:"Unia zazdrości Polsce silnej gospodarki",u:"https://www.wykop.pl/link/4067331/comment/51084137/#comment-51084137"},{t:"Koty prezesa postrachem opozycji",u:"https://wiadomosci.tvp.pl/34943887/koty-prezesa-postrachem-opozycji"},{t:"Antypolska szarża Donalda Tuska",u:"https://www.tvp.info/34879464/antypolska-szarza-donalda-tuska"},{t:"Sieci Sorosa oplotły Unię Europejską",u:"https://www.tvp.info/34607688/sieci-sorosa-oplotly-unie-europejska"},{t:"Rekordowa nadwyżka w budżecie państwa",u:"https://www.tvp.info/34068407/rekordowa-nadwyzka-w-budzecie-panstwa"},{t:"Jak manipuluje niemiecka telewizja publiczna",u:"https://wiadomosci.tvp.pl/28448857/jak-manipuluje-niemiecka-telewizja-publiczna"},{t:"Bruksela pozwala Hiszpanom pałować ludzi, a nam zabrania zwalczać kornika drukarza",u:"https://wiadomosci.wp.pl/piszacy-odlecial-tvp-info-postanowilo-dopiec-ue-na-swoim-pasku-6172363270973569a"},{t:"Artykuł Gazety Wyborczej to kapiszon",u:"https://wiadomosci.tvp.pl/41070902/artykul-gazety-wyborczej-to-kapiszon"},{t:"Ostateczny koniec państwa teoretycznego",u:"https://wiadomosci.tvp.pl/38115914/ostateczny-koniec-panstwa-teoretycznego"},{t:"Państwo Tuska oddało 35 mln zł gangsterom",u:"https://www.newsweek.pl/polska/spoleczenstwo/paski-tvp-kto-je-tworzy/w3y9d4c"},{t:"Agresja i chamstwo - tyle zapamiętamy z dzisiejszej manifestacji przed Sejmem",u:"https://www.newsweek.pl/polska/spoleczenstwo/paski-tvp-kto-je-tworzy/w3y9d4c"},{t:"Obrońcy pedofilów i alimenciarzy twarzami oporu przeciwko reformie sądownictwa",u:"https://www.newsweek.pl/polska/spoleczenstwo/paski-tvp-kto-je-tworzy/w3y9d4c"},{t:"Świat zazdrości Polakom sukcesu gospodarczego",u:"https://wiadomosci.tvp.pl/40984415/swiat-zazdrosci-polakom-sukcesu-gospodarczego"},{t:"Grabież budżetu państwa zatrzymana",u:"http://www.wiadomosci.tvp.pl/34458293/grabiez-budzetu-panstwa-zatrzymana"},{t:"Lewacy zaatakowali pamięć o bohaterze",u:"https://www.tvp.info/33737193/lewacy-zaatakowali-pamiec-o-bohaterze"},{t:'"Korona Królów" podbija świat',u:"http://wiadomosci.tvp.pl/39002491/korona-krolow-podbija-swiat"},{t:"Rząd Tuska kapitulował przed Rosją",u:"https://wiadomosci.tvp.pl/37905229/rzad-tuska-kapitulowal-przed-rosja"},{t:"Komu przeszkadza siła polskiej waluty?",u:"https://wiadomosci.tvp.pl/40716641/komu-przeszkadza-sila-polskiej-waluty"},{t:"Komu przeszkadza silna telewizja publiczna?",u:"https://wiadomosci.tvp.pl/41226669/komu-przeszkadza-silna-telewizja-publiczna"},{t:"Wielki sukces festiwalu w Opolu",u:"https://www.tvp.info/34038909/wielki-sukces-festiwalu-w-opolu"},{t:"Platforma i sędziowie bronią reliktów PRL",u:"https://wiadomosci.tvp.pl/37419498/platforma-i-sedziowie-bronia-reliktow-prl"},{t:"Platforma Obywatelska gardzi kobietami?",u:"https://wiadomosci.tvp.pl/41127272/platforma-obywatelska-gardzi-kobietami"},{t:"Gospodarka w olimpijskiej formie ",u:"https://wiadomosci.tvp.pl/37297765/gospodarka-w-olimpijskiej-formie"},{t:"Mądrości posła Grabca pod monopolowym",u:"https://wiadomosci.tvp.pl/37167597/madrosci-posla-grabca-pod-monopolowym"},{t:"Wychowanie seksualne zagrożeniem dla kraju"},{t:"Czyim agentem jest Radosław Sikorski?"},{t:"Morawiecki: Program 500+ powoduje odrodzenie Polski"},{t:"Totalna opozycja i jej związki z esbekami"},{t:"PiS obniża podatki które podnosiła Platforma"},{t:"Komu przeszkadza Radio Maryja?"},{t:"Polska nauka dofinansowana najlepiej w Europie"},{t:"Polska to kraj płynący mlekiem i miodem"},{t:"Polska gwarantem bezpieczeństwa Europy"},{t:"Wychowanie seksualne powoduje rozpasanie umysłowe"},{t:"Totalna opozycja murem za esbekami"},{t:"Dzięki polityce rządu PIS mamy kolejny rekord Wielkiej Orkiestry Świątecznej Pomocy"},{t:"Pierwszy patriotyczny rząd w historii Polski"},{t:"Mleczność polskich krów zatrważa Niemców"},{t:"Bezpardonowy atak wściekłego lewactwa na Magdalenę Ogórek"},{t:"Reformy rządu jednoczą Polaków"},{t:"Partyjny harem Ryszarda Petru"},{t:"Jarosław Kaczyński: Wystarczy nie kraść"},{t:"Broniarz i jego oświatowe gestapo biorą uczniów jako zakładników "},{t:"Znakomite wyniki finansowe stadniny w Janowie"},{t:"Kościół katolicki pod oblężeniem homolobby"},{t:"Łóżkowe wojaże jurnego Stefana świadectwem nieszczerości totalnej opozycji"},{t:"Polska niedoścignionym bastionem chrześcijaństwa"},{t:"Spektakularny upadek Gazety Wyborczej"},{t:"Nowoczesna twierdzi że samotne matki nie zasługują na 500+"},{t:"Bruksela robi zamach na suwerenność Polski"},{t:"Rząd sprzyja rozowojowi nowych technologii"},{t:"Rekordowy wzrost PKB zasługą programu 500+"},{t:"Młodzi ludzie stawiają na PiS"},{t:"Studio Yayo bawi Polaków do łez"},{t:"Homopropaganda w szkołach zagrożeniem dla rozwoju dzieci"},{t:"Totalna opozycja robi zamach na wartości rodzinne"},{t:"Rząd stawia na rozwój nauki"},{t:"Młodzi lekarze szkalują Polskę na arenie międzynarodowej"},{t:"Czy niepełnosprawni mają czyste intencje?"},{t:"Minister Macierewicz stawia na młodych"},{t:"Nauczyciele agresywnie atakują rząd"},{t:"Polska ekonomicznym liderem Europy"},{t:"Nowoczesna i Platforma spiskują przeciwko Polsce"},{t:"Totalna opozycja wrzodem na ciele polskiego narodu"}],WelcomeComponent={view:function(){return m("div",[m("div",{class:"welcome"},[m("h1","Propaganda czy Fałsz?"),m("h3","Dostaniesz do oceny 80 pasków informacyjnych. Część z nich pochodzi z TVP, część z TVP Info, a część została po prostu wymyślona. Czy uda Ci się odróżnić paski realne od fałszywych?"),m("h2","Powodzenia!"),m("a[href=/game]",{oncreate:m.route.link,class:"btn green",id:"start"},"Rozpocznij grę"),m(AuthorComponent)])])}},StripComponent={view:function(e){return m("div",{class:"strip"},m("img",{src:"w.png"}),m("div",{class:"text"},e.attrs.t))}},StripButtonsComponent={view:function(){if(null===currentStrip)return m.route.set("/results"),null;if(void 0===currentStrip.answer)return m("div",{class:"strip-buttons"},m("p[style='white-space:pre']",[m("span",{class:"mark"}," ")]," "),m("button",{class:"btn red",onclick:function(){handleClick(!1)}},"Fałszywy"),m("button",{class:"btn green",onclick:function(){handleClick(!0)}},"Prawdziwy"));var e=0<STRIPS.length?"Następny pasek →":"Pokaż podsumowanie";return m("div",{class:"strip-buttons"},m("button",{class:"btn blue next-strip",onclick:function(){currentStrip=getNextStrip()}},e))}},ExplanationComponent={view:function(){if(currentStrip&&void 0!==currentStrip.answer){var e=null;return e=currentStrip.isReal?currentStrip.answer?m("p",[m("span",{class:"mark ok"},"✔ ")],"Tak, to prawdziwy pasek! ",[m("strong",m("a",{href:currentStrip.u,class:"sauce",target:"_blank"}," Źródło"))]):m("p",[m("span",{class:"mark nope"},"✗ ")],"Nie, to prawdziwy pasek! ",[m("strong",m("a",{href:currentStrip.u,class:"sauce",target:"_blank"}," Źródło"))]):currentStrip.answer?m("p",[m("span",{class:"mark nope"},"✗ ")],"Nie, to fałszywy pasek :)"):m("p",[m("span",{class:"mark ok"},"✔ ")],"Zgadza się, to fałszywy pasek."),m("div",{class:"explanation"},[e])}}},processedStrips=[],currentStrip=null,totalStrips=STRIPS.length,i=0;i<STRIPS.length;i++)STRIPS[i].idx=i;var score=0;function handleClick(e){currentStrip.answer=e,currentStrip.isReal===e&&score++}function getNextStrip(){if(currentStrip&&processedStrips.push(currentStrip),STRIPS.length<=0)return null;var e=STRIPS.splice(Math.floor(Math.random()*STRIPS.length),1)[0];return e.isReal=void 0!==e.u,e}var ProgressComponent={view:function(e){return m("div",{class:"progress clearfix"},[m("span",{class:"strips-processed"},"Pasek "+(totalStrips-STRIPS.length)+" z "+totalStrips),m("span",{class:"valid-answers"},[m("span",{class:"label"},"Liczba trafnych odpowiedzi: "),m("strong",{class:"score"},e.attrs.score)])])}},GameComponent={view:function(){return null===currentStrip&&(currentStrip=getNextStrip()),m("div",{class:"game"},[m(ProgressComponent,{score:score}),m(StripComponent,currentStrip),m(ExplanationComponent),m(StripButtonsComponent)])}},ResultsComponent={view:function(){return processedStrips.length||m.route.set("/"),m(SummaryComponent,{results:processedStrips})}},SummaryTable={view:function(e){var t=e.attrs.results;return m("table",m("thead",m("tr",[m("th",{style:"width: 100%"},"Pasek"),m("th","Udzielona",m.trust("&nbsp;"),"odpowiedź")])),m("tbody",t.map(function(e){var t={},n=e.answer===e.isReal,o=m("span",{class:"badge "+(e.answer?"green":"red")},e.answer?"Prawdziwy":"Fałszywy");return n||(t.class="fail"),m("tr",t,m("td",{class:"strip-column"},e.t),m("td",{class:"answer-column"},o))})))}},SummaryComponent={view:function(e){for(var t=e.attrs.results,n=e.attrs.hide,o=[],r=[],a=0;a<t.length;a++){var i=t[a];i.isReal?o.push(i):r.push(i)}return o.sort(sortByIdx),r.sort(sortByIdx),m("div",{class:"summary clearfix"},[m("h1",{class:"summary-heading"},n?"Wynik:":"Twój wynik:"),m("h1",{class:"summary-score"},score+" / "+t.length),n?[]:m("div",{class:"summary-link"},m("label","Link do tego wyniku: "),m("input",{type:"text",value:buildResultUrl(),onclick:function(){this.select()}})),m("div",{class:"real"},[m("h2","Prawdziwe paski"),m(SummaryTable,{results:o})]),m("div",{class:"fake"},[m("h2","Fałszywe paski"),m(SummaryTable,{results:r})])])}},AuthorComponent={view:function(){return m("div",{id:"author"},"Autor: ",m("a",{href:"https://www.wykop.pl/ludzie/reptilianin6190/"},"@reptilianin6190"))}};function buildResultUrl(){for(var e=window.location.origin+window.location.pathname+"#!/r/",t=0,n=0,o=0,r=0;r<processedStrips.length;r++){var a=processedStrips[r];a.answer&&(a.idx<=30?t|=1<<a.idx:30<a.idx&&a.idx<=60?n|=1<<a.idx-30:60<a.idx&&(o|=1<<a.idx-60))}return e+[t,n,o].join(",")}var ShowResultComponent={view:function(){var e=m.route.param("id").trim().split(",");if(3!==e.length)return errorComponent("Nieprawidłowy link do wyniku");var t=parseInt(e[0]),n=parseInt(e[1]),o=parseInt(e[2]);if(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(o))return errorComponent("Nieprawidłowy link do wyniku");for(var r=score=0;r<STRIPS.length;r++){var a=STRIPS[r];a.idx<=30?a.answer=0!=(t&1<<a.idx):30<a.idx&&a.idx<=60?a.answer=0!=(n&1<<a.idx-30):60<a.idx&&(a.answer=0!=(o&1<<a.idx-60)),a.isReal=void 0!==a.u,a.isReal===a.answer&&score++}return m(SummaryComponent,{results:STRIPS,hide:!0})}};function errorComponent(e){return m("div",{style:"padding-top: 10%"},m("div",{class:"strip"},m("img",{src:"w.png"}),m("div",{class:"text",style:"color:#f66"},e)))}function sortByIdx(e,t){return e.idx<t.idx?-1:e.idx>t.idx?1:0}m.route(document.body,"/",{"/":WelcomeComponent,"/game":GameComponent,"/results":ResultsComponent,"/r/:id":ShowResultComponent});